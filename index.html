<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ウマ娘ゆこま温泉郷 シナリオ計算ツール</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="header-left">
      <img src="images/onsen-icon.png" alt="" class="logo" onerror="this.style.display='none'">
      <div>
        <h1>ウマ娘ゆこま温泉郷 シナリオ計算ツール</h1>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- 入力: すべて wide（縦） -->
    <section class="panel input-panel">
      <h2>入力</h2>

      <div class="grid-2-vertical">
        <div class="card wide">
          <h3>基礎能力</h3>
          <div class="row">
            <label>スピ
              <select id="rank-speed" class="rank-select"></select>
            </label>
            <label>スタ
              <select id="rank-stamina" class="rank-select"></select>
            </label>
            <label>パワ
              <select id="rank-power" class="rank-select"></select>
            </label>
            <label>根性
              <select id="rank-guts" class="rank-select"></select>
            </label>
            <label>賢さ
              <select id="rank-wit" class="rank-select"></select>
            </label>
          </div>
        </div>

        <div class="card wide">
          <h3>因子</h3>
          <div class="row">
            <label>スピ
              <select id="factor-speed" class="factor-select"></select>
            </label>
            <label>スタ
              <select id="factor-stamina" class="factor-select"></select>
            </label>
            <label>パワ
              <select id="factor-power" class="factor-select"></select>
            </label>
            <label>根性
              <select id="factor-guts" class="factor-select"></select>
            </label>
            <label>賢さ
              <select id="factor-wit" class="factor-select"></select>
            </label>
          </div>
        </div>

        <div class="card wide">
          <h3>シナリオリンク</h3>
          <div class="row wrap">
            <label><input type="checkbox" id="link-teio"> テイオー (砂)</label>
            <label><input type="checkbox" id="link-bourbon"> ブルボン (土)</label>
            <label><input type="checkbox" id="link-tran"> トラン (土)</label>
            <label><input type="checkbox" id="link-tarmae"> タルマエ (岩)</label>
            <label><input type="checkbox" id="link-acute"> アキュ (岩)</label>
          </div>
        </div>

        <div class="card wide">
          <h3>選択中の源泉</h3>
          <div class="row">
            <label class="full">
              <select id="gensen-select">
                <option value="">-- 源泉を選択 --</option>
              </select>
            </label>
          </div>
          <div id="gensen-info" class="gensen-info">
            <div id="gensen-image-placeholder" class="gensen-image">画像</div>
            <div class="gensen-meta">
              <div><strong id="gensen-name"></strong></div>
              <div>砂: <span id="gensen-sand">-</span></div>
              <div>土: <span id="gensen-ground">-</span></div>
              <div>岩: <span id="gensen-rock">-</span></div>
              <div>合計: <span id="gensen-total">-</span></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 出力 -->
    <section class="panel output-panel">
      <h2>出力</h2>

      <div id="results" class="results-area"></div>

      <!-- 掘削完了までのターン数セクション -->
      <div class="panel small" id="turns-panel">
        <h3>掘削完了までのターン数</h3>
        <div class="row">
          <label class="full">掘削状況（残量）
            <input type="number" id="current-remaining" min="0" />
          </label>
        </div>
        <div class="muted-note" style="margin-top:6px;">
          ※初期値は選択中の源泉の合計値です。最大 8 ターン分を表示します。
        </div>

        <div id="turns-table-area" style="margin-top:8px;overflow:auto"></div>
        <div id="turns-summary" style="margin-top:8px;font-weight:600"></div>
      </div>
    </section>

    <!-- メモ -->
    <section class="panel memo-panel">
      <h3>メモ</h3>
      <textarea id="user-memo" placeholder="ここにメモを入力（自動保存されます）"></textarea>
      <div class="memo-actions">
        <button id="memo-clear">クリア</button>
      </div>
    </section>
  </main>

  <footer class="site-footer">
  </footer>

  <script src="app.js"></script>
</body>
</html>